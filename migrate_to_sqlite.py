#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å JSON –Ω–∞ SQLite
–£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ JSON —Ñ–∞–π–ª—ã –∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —á–∏—Å—Ç—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
"""

import os
from pathlib import Path
from database import Database

def main():
    print("üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö")
    print("=" * 50)
    
    # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    files_to_remove = [
        "messages_database.json",
        "users_database.json",
        "anonymous_bot.db"  # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –ë–î –µ—Å–ª–∏ –µ—Å—Ç—å
    ]
    
    # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
    print("\nüìÅ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤...")
    for filename in files_to_remove:
        filepath = Path(filename)
        if filepath.exists():
            filepath.unlink()
            print(f"   ‚úÖ –£–¥–∞–ª–µ–Ω: {filename}")
        else:
            print(f"   ‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç): {filename}")
    
    # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    print("\nüóÑÔ∏è  –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
    db = Database()
    print("   ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞: anonymous_bot.db")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
    print("\nüìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...")
    stats = db.get_stats()
    print(f"   ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {stats['total_users']}")
    print(f"   ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–π: {stats['total_messages']}")
    print(f"   ‚úÖ –û—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö: {stats['answered_messages']}")
    print(f"   ‚úÖ –ù–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö: {stats['unanswered_messages']}")
    
    print("\n" + "=" * 50)
    print("‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
    print("\nüìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:")
    print("   1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: python bot.py")
    print("   2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: python web_app.py")
    print("   3. –ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–∞ —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞!")
    print("\nüí° –í—Å–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã. –ù–∞—á–∏–Ω–∞–µ–º —Å –Ω—É–ª—è!")

if __name__ == "__main__":
    main()

